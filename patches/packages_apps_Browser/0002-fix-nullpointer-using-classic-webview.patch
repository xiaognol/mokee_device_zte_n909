From e72e23f9712a488183d1a1f5e147e034086352d0 Mon Sep 17 00:00:00 2001
From: Mkey_NJU <499238317@qq.com>
Date: Sun, 29 Jun 2014 15:02:58 +0800
Subject: [PATCH] fix nullpointer using classic webview

Change-Id: I1a7d49fe8509a73b30b32b7d6adc7624c294b659
---
 src/com/android/browser/Tab.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/com/android/browser/Tab.java b/src/com/android/browser/Tab.java
index f44ad78..8e8a60e 100644
--- a/src/com/android/browser/Tab.java
+++ b/src/com/android/browser/Tab.java
@@ -395,7 +395,7 @@ class Tab implements PictureListener {
             syncCurrentState(view, url);
             mWebViewController.onPageFinished(Tab.this);
 
-            if (view.getUrl().equals("about:most_visited")) {
+            if (view.getUrl() != null && view.getUrl().equals("about:most_visited")) {
                 if (!mInMostVisitedPage) {
                     loadUrl(HomeProvider.MOST_VISITED, null);
                     mInMostVisitedPage = true;
-- 
1.8.1.2

